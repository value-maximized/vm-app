{% extends "base.html" %}

{% block title %}Sankalp, Your Business Planner{% endblock %}
{% block heading %}Create a Plan{% endblock %}

{% block content %}
  <h2>Enter your plan details</h2>

  <form method="POST">
    <div class="grid">
      <div>
        <label for="plan_name">Plan Name</label><br>
        <input type="text" id="plan_name" name="name" placeholder="2023 Strategy Plan" required>
      </div>

      <div>
        <label for="plan_owner">Owner</label><br>
        <input type="text" id="plan_owner" name="owner" placeholder="Varun Jayaraman" required>
      </div>

      <div>
        <label for="plan_startDate">Start Date</label><br>
        <input type="date" id="plan_startDate" name="start_date" required>
      </div>

      <div>
        <label for="plan_endDate">End Date</label><br>
        <input type="date" id="plan_endDate" name="end_date" required>
      </div>
    </div>

    <div style="margin-top:1rem;">
      <button type="submit">Create</button>
    </div>
  </form>

  <h3 style="margin-top:2rem;">Saved Plans</h3>
  {% if plans and plans|length > 0 %}
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Plan Name</th>
          <th>Owner</th>
          <th>Start Date</th>
          <th>End Date</th>
        </tr>
      </thead>
      <tbody>
        {% for p in plans %}
          <tr>
            <td>{{ p.id }}</td>
            <td>{{ p.name }}</td>
            <td>{{ p.owner }}</td>
            <td>{{ p.start_date }}</td>
            <td>{{ p.end_date }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No plans yetâ€”use the form above to create one.</p>
  {% endif %}
{% endblock %}
